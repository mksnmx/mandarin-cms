Для подключения MandarinPay необходимо создать три снипета:
mandarinPay
mandarin_answer
get_response

В начале каждого файла найдете поля которые нужно ввести на основе полученных данных от системы MandarinPay:
mandarinPay:
	$merchantId = '/*Ваш id полученый в системе MandarinPay*/';
	$secretKey = '/*Ваш секретный ключ полученый в системе MandarinPay*/';
	$url_response = '/*Ссылка на страницу с снипетом get_response*/';
mandarin_answer:
	$secret_key = '/*Ваш секретный ключ*/';
	$order_status = '/*Id статуса после оплаты*/';
Файл get_response не содержит необходимых полей, но при желании там можно изменять внешний вид формы оплаты

При использовании FormIt плагина для оформления заказа нужно дописать hook для системы MandarinPay
&hooks=`...,mandarinPay,...`
таким методом, желательно ставить вторым по очереди, но при желании можно менять, но такой вариант не тестировался

Так же в настройках Shoopkeeper 3 в методах оплаты ввести
Название – MandarinPay
Значение – mandarin

Снипеты которые будут созданы нужно прикрепить к определенным страницам.
Ссылка на страницу где будет распологаться get_response нужно ввести в /*Ссылка на страницу с снипетом get_response*/ в снипете mandarinPay
Ссылка на страницу с снипетом mandarin_answer нужно ввести в системе MandarinPay как CallBack URL
ReturnUrl в системе MandarinPay выбираете по желанию, создав перед этим нужную страницу.

Разрабатывался и тестировался на версии MODX Revolution 2.4.2-pl Shopkeeper 3